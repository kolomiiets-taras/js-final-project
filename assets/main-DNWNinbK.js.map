{"version":3,"file":"main-DNWNinbK.js","sources":["../../src/js/mobile-menu.js","../../src/js/api.js","../../src/js/utils.js","../../src/js/quote.js","../../src/js/subscription.js","../../src/js/favorites.js","../../src/js/modal.js","../../src/js/pagination.js","../../src/js/filters.js","../../src/main.js"],"sourcesContent":["/**\n * Mobile menu module for Your Energy application\n */\n\n/**\n * Initialize mobile menu\n */\nexport function initMobileMenu() {\n  const menu = document.querySelector('[data-menu]');\n  const openBtn = document.querySelector('[data-menu-open]');\n  const closeBtn = document.querySelector('[data-menu-close]');\n\n  if (!menu || !openBtn || !closeBtn) return;\n\n  // Open menu\n  openBtn.addEventListener('click', () => {\n    menu.classList.add('is-open');\n    document.body.classList.add('no-scroll');\n  });\n\n  // Close menu\n  closeBtn.addEventListener('click', () => {\n    menu.classList.remove('is-open');\n    document.body.classList.remove('no-scroll');\n  });\n\n  // Close on link click\n  menu.querySelectorAll('a').forEach(link => {\n    link.addEventListener('click', () => {\n      menu.classList.remove('is-open');\n      document.body.classList.remove('no-scroll');\n    });\n  });\n\n  // Close on escape key\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && menu.classList.contains('is-open')) {\n      menu.classList.remove('is-open');\n      document.body.classList.remove('no-scroll');\n    }\n  });\n\n  // Initialize header hide on scroll\n  initHeaderScroll();\n}\n\n/**\n * Initialize header hide/show on scroll\n */\nfunction initHeaderScroll() {\n  const header = document.querySelector('.header');\n  if (!header) return;\n\n  let lastScrollY = window.scrollY;\n  let ticking = false;\n\n  window.addEventListener('scroll', () => {\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        const currentScrollY = window.scrollY;\n\n        // Don't hide header at the very top\n        if (currentScrollY < 100) {\n          header.classList.remove('is-hidden');\n        } else if (currentScrollY > lastScrollY) {\n          // Scrolling down - hide header\n          header.classList.add('is-hidden');\n        } else {\n          // Scrolling up - show header\n          header.classList.remove('is-hidden');\n        }\n\n        lastScrollY = currentScrollY;\n        ticking = false;\n      });\n\n      ticking = true;\n    }\n  });\n}\n\n/**\n * Initialize scroll to top button\n */\nexport function initScrollTop() {\n  const scrollTopBtn = document.querySelector('[data-scroll-top]');\n  if (!scrollTopBtn) return;\n\n  // Show/hide based on scroll position\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      scrollTopBtn.classList.add('is-visible');\n    } else {\n      scrollTopBtn.classList.remove('is-visible');\n    }\n  });\n\n  // Scroll to top on click\n  scrollTopBtn.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n}\n","/**\n * API module for Your Energy application\n * Base URL: https://your-energy.b.goit.study/api\n */\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\n\n/**\n * Fetch quote of the day\n * @returns {Promise<{author: string, quote: string}>}\n */\nexport async function fetchQuote() {\n  const response = await fetch(`${BASE_URL}/quote`);\n  if (!response.ok) {\n    throw new Error('Failed to fetch quote');\n  }\n  return response.json();\n}\n\n/**\n * Fetch filters (categories)\n * @param {Object} params\n * @param {string} params.filter - Filter type: 'Muscles' | 'Body parts' | 'Equipment'\n * @param {number} [params.page=1] - Page number\n * @param {number} [params.limit=12] - Items per page\n * @returns {Promise<{page: number, perPage: number, totalPages: number, results: Array}>}\n */\nexport async function fetchFilters({ filter, page = 1, limit = 12 }) {\n  const params = new URLSearchParams({\n    filter,\n    page: page.toString(),\n    limit: limit.toString(),\n  });\n\n  const response = await fetch(`${BASE_URL}/filters?${params}`);\n  if (!response.ok) {\n    throw new Error('Failed to fetch filters');\n  }\n  return response.json();\n}\n\n/**\n * Fetch exercises list\n * @param {Object} params\n * @param {string} [params.bodypart] - Body part filter\n * @param {string} [params.muscles] - Muscles filter\n * @param {string} [params.equipment] - Equipment filter\n * @param {string} [params.keyword] - Search keyword\n * @param {number} [params.page=1] - Page number\n * @param {number} [params.limit=10] - Items per page\n * @returns {Promise<{page: number, perPage: number, totalPages: number, results: Array}>}\n */\nexport async function fetchExercises({\n  bodypart,\n  muscles,\n  equipment,\n  keyword,\n  page = 1,\n  limit = 10,\n}) {\n  const params = new URLSearchParams({\n    page: page.toString(),\n    limit: limit.toString(),\n  });\n\n  if (bodypart) params.append('bodypart', bodypart);\n  if (muscles) params.append('muscles', muscles);\n  if (equipment) params.append('equipment', equipment);\n  if (keyword) params.append('keyword', keyword);\n\n  const response = await fetch(`${BASE_URL}/exercises?${params}`);\n  if (!response.ok) {\n    throw new Error('Failed to fetch exercises');\n  }\n  return response.json();\n}\n\n/**\n * Fetch single exercise details\n * @param {string} exerciseId - Exercise ID\n * @returns {Promise<Object>}\n */\nexport async function fetchExerciseById(exerciseId) {\n  const response = await fetch(`${BASE_URL}/exercises/${exerciseId}`);\n  if (!response.ok) {\n    throw new Error('Failed to fetch exercise details');\n  }\n  return response.json();\n}\n\n/**\n * Submit exercise rating\n * @param {string} exerciseId - Exercise ID\n * @param {Object} data\n * @param {number} data.rate - Rating (1-5)\n * @param {string} data.email - Email address\n * @param {string} data.review - Review text\n * @returns {Promise<Object>}\n */\nexport async function submitRating(exerciseId, { rate, email, review }) {\n  const response = await fetch(`${BASE_URL}/exercises/${exerciseId}/rating`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ rate, email, review }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || 'Failed to submit rating');\n  }\n  return response.json();\n}\n\n/**\n * Subscribe to newsletter\n * @param {string} email - Email address\n * @returns {Promise<Object>}\n */\nexport async function subscribe(email) {\n  const response = await fetch(`${BASE_URL}/subscription`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || 'Failed to subscribe');\n  }\n  return response.json();\n}\n","/**\n * Utility functions for Your Energy application\n */\n\n/**\n * Email validation regex from spec\n */\nexport const EMAIL_REGEX = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n/**\n * Validate email address\n * @param {string} email\n * @returns {boolean}\n */\nexport function validateEmail(email) {\n  return EMAIL_REGEX.test(email);\n}\n\n/**\n * Get data from localStorage\n * @param {string} key\n * @returns {any}\n */\nexport function getFromStorage(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error(`Error getting ${key} from localStorage:`, error);\n    return null;\n  }\n}\n\n/**\n * Save data to localStorage\n * @param {string} key\n * @param {any} data\n */\nexport function saveToStorage(key, data) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    console.error(`Error saving ${key} to localStorage:`, error);\n  }\n}\n\n/**\n * Remove data from localStorage\n * @param {string} key\n */\nexport function removeFromStorage(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(`Error removing ${key} from localStorage:`, error);\n  }\n}\n\n/**\n * Get today's date in ISO format (YYYY-MM-DD)\n * @returns {string}\n */\nexport function getTodayDate() {\n  return new Date().toISOString().split('T')[0];\n}\n\n/**\n * Debounce function\n * @param {Function} func\n * @param {number} wait\n * @returns {Function}\n */\nexport function debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n/**\n * Capitalize first letter\n * @param {string} str\n * @returns {string}\n */\nexport function capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Generate star rating HTML\n * @param {number} rating - Rating value (0-5)\n * @returns {string}\n */\nexport function generateStarsHTML(rating) {\n  const fullStars = Math.floor(rating);\n  const emptyStars = 5 - fullStars;\n  let html = '';\n\n  for (let i = 0; i < fullStars; i++) {\n    html += `<svg class=\"exercise-modal-star\"><use href=\"./img/sprite.svg#icon-star\"></use></svg>`;\n  }\n\n  for (let i = 0; i < emptyStars; i++) {\n    html += `<svg class=\"exercise-modal-star empty\"><use href=\"./img/sprite.svg#icon-star-empty\"></use></svg>`;\n  }\n\n  return html;\n}\n\n/**\n * Show notification (simple alert for now)\n * @param {string} message\n * @param {string} type - 'success' | 'error'\n */\nexport function showNotification(message, type = 'success') {\n  // Simple alert implementation\n  // Can be replaced with a custom toast notification\n  alert(message);\n}\n\n/**\n * Get responsive limit for pagination based on screen width\n * @param {string} type - 'categories' | 'exercises'\n * @returns {number}\n */\nexport function getResponsiveLimit(type) {\n  const width = window.innerWidth;\n\n  if (type === 'categories') {\n    if (width < 768) return 9;\n    if (width < 1280) return 12;\n    return 12;\n  }\n\n  if (type === 'exercises') {\n    if (width < 768) return 8;\n    if (width < 1280) return 10;\n    return 10;\n  }\n\n  return 10;\n}\n","/**\n * Quote of the day module for Your Energy application\n */\n\nimport { fetchQuote } from './api.js';\nimport { getFromStorage, saveToStorage, getTodayDate } from './utils.js';\n\nconst STORAGE_KEY = 'quote-data';\n\n/**\n * Initialize quote of the day\n */\nexport async function initQuote() {\n  const quoteTextEl = document.querySelector('[data-quote-text]');\n  const quoteAuthorEl = document.querySelector('[data-quote-author]');\n\n  if (!quoteTextEl || !quoteAuthorEl) return;\n\n  try {\n    const quoteData = await getQuoteOfTheDay();\n    renderQuote(quoteData, quoteTextEl, quoteAuthorEl);\n  } catch (error) {\n    console.error('Error loading quote:', error);\n  }\n}\n\n/**\n * Get quote of the day from storage or API\n * @returns {Promise<{quote: string, author: string}>}\n */\nasync function getQuoteOfTheDay() {\n  const today = getTodayDate();\n  const storedData = getFromStorage(STORAGE_KEY);\n\n  // Check if we have a valid stored quote for today\n  if (storedData && storedData.date === today) {\n    return {\n      quote: storedData.quote,\n      author: storedData.author,\n    };\n  }\n\n  // Fetch new quote from API\n  const newQuote = await fetchQuote();\n\n  // Save to localStorage with today's date\n  saveToStorage(STORAGE_KEY, {\n    quote: newQuote.quote,\n    author: newQuote.author,\n    date: today,\n  });\n\n  return newQuote;\n}\n\n/**\n * Render quote to DOM\n * @param {Object} quoteData\n * @param {HTMLElement} textEl\n * @param {HTMLElement} authorEl\n */\nfunction renderQuote(quoteData, textEl, authorEl) {\n  textEl.textContent = quoteData.quote;\n  authorEl.textContent = quoteData.author;\n}\n","/**\n * Subscription module for Your Energy application\n */\n\nimport { subscribe } from './api.js';\nimport { validateEmail } from './utils.js';\n\n/**\n * Initialize subscription form\n */\nexport function initSubscription() {\n  const form = document.querySelector('[data-subscribe-form]');\n  if (!form) return;\n\n  const emailInput = form.querySelector('input[name=\"email\"]');\n  const errorEl = form.querySelector('[data-subscribe-error]');\n  const successEl = form.querySelector('[data-subscribe-success]');\n  const submitBtn = form.querySelector('button[type=\"submit\"]');\n\n  // Validate on input\n  emailInput.addEventListener('input', () => {\n    const isValid = validateEmail(emailInput.value) || emailInput.value.length === 0;\n    emailInput.classList.toggle('is-invalid', !isValid);\n    errorEl.textContent = isValid ? '' : 'Invalid email format';\n    successEl.hidden = true;\n  });\n\n  // Handle form submit\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const email = emailInput.value.trim();\n\n    // Validate email\n    if (!validateEmail(email)) {\n      emailInput.classList.add('is-invalid');\n      errorEl.textContent = 'Please enter a valid email address';\n      return;\n    }\n\n    // Clear previous states\n    emailInput.classList.remove('is-invalid');\n    errorEl.textContent = '';\n    successEl.hidden = true;\n    submitBtn.disabled = true;\n\n    try {\n      const response = await subscribe(email);\n\n      // Show success message\n      successEl.textContent = response.message || 'Successfully subscribed!';\n      successEl.hidden = false;\n\n      // Reset form\n      form.reset();\n    } catch (error) {\n      console.error('Subscription error:', error);\n      errorEl.textContent = error.message || 'Subscription failed. Please try again.';\n    } finally {\n      submitBtn.disabled = false;\n    }\n  });\n}\n","/**\n * Favorites module for Your Energy application\n */\n\nimport { getFromStorage, saveToStorage } from './utils.js';\n\nconst STORAGE_KEY = 'favorites';\n\n/**\n * Get all favorites from localStorage\n * @returns {Array}\n */\nexport function getFavorites() {\n  return getFromStorage(STORAGE_KEY) || [];\n}\n\n/**\n * Check if exercise is in favorites\n * @param {string} exerciseId\n * @returns {boolean}\n */\nexport function isFavorite(exerciseId) {\n  const favorites = getFavorites();\n  return favorites.some(item => item._id === exerciseId);\n}\n\n/**\n * Add exercise to favorites\n * @param {Object} exercise - Exercise data\n */\nexport function addToFavorites(exercise) {\n  const favorites = getFavorites();\n\n  // Check if already exists\n  if (favorites.some(item => item._id === exercise._id)) {\n    return;\n  }\n\n  favorites.push(exercise);\n  saveToStorage(STORAGE_KEY, favorites);\n}\n\n/**\n * Remove exercise from favorites\n * @param {string} exerciseId\n */\nexport function removeFromFavorites(exerciseId) {\n  const favorites = getFavorites();\n  const filtered = favorites.filter(item => item._id !== exerciseId);\n  saveToStorage(STORAGE_KEY, filtered);\n}\n\n/**\n * Toggle exercise in favorites\n * @param {Object} exercise - Exercise data\n * @returns {boolean} - True if added, false if removed\n */\nexport function toggleFavorite(exercise) {\n  if (isFavorite(exercise._id)) {\n    removeFromFavorites(exercise._id);\n    return false;\n  } else {\n    addToFavorites(exercise);\n    return true;\n  }\n}\n\n/**\n * Render favorites list\n * @param {HTMLElement} container\n * @param {HTMLElement} emptyEl\n * @param {Function} onStartClick - Callback for start button click\n * @param {Function} onDeleteClick - Callback for delete button click\n */\nexport function renderFavoritesList(container, emptyEl, onStartClick, onDeleteClick) {\n  const favorites = getFavorites();\n\n  if (favorites.length === 0) {\n    container.innerHTML = '';\n    if (emptyEl) {\n      emptyEl.hidden = false;\n    }\n    return;\n  }\n\n  if (emptyEl) {\n    emptyEl.hidden = true;\n  }\n\n  const html = favorites\n    .map(\n      exercise => `\n      <li class=\"exercise-card\" data-exercise-id=\"${exercise._id}\">\n        <div class=\"exercise-card-header\">\n          <span class=\"exercise-card-badge\">workout</span>\n          <div class=\"exercise-card-actions\">\n            <button class=\"exercise-delete-btn\" type=\"button\" data-delete=\"${exercise._id}\" aria-label=\"Remove from favorites\">\n              <svg class=\"exercise-delete-icon\">\n                <use href=\"./img/sprite.svg#icon-trash\"></use>\n              </svg>\n            </button>\n            <button class=\"exercise-start-btn\" type=\"button\" data-start=\"${exercise._id}\">\n              Start\n              <svg class=\"exercise-start-icon\">\n                <use href=\"./img/sprite.svg#icon-arrow\"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class=\"exercise-card-body\">\n          <div class=\"exercise-card-icon\">\n            <svg class=\"exercise-card-icon-svg\">\n              <use href=\"./img/sprite.svg#icon-run\"></use>\n            </svg>\n          </div>\n          <h3 class=\"exercise-card-title\">${exercise.name}</h3>\n        </div>\n        <div class=\"exercise-card-meta\">\n          <span class=\"exercise-card-meta-item\">Burned calories: <span>${exercise.burnedCalories} / 3 min</span></span>\n          <span class=\"exercise-card-meta-item\">Body part: <span>${exercise.bodyPart}</span></span>\n          <span class=\"exercise-card-meta-item\">Target: <span>${exercise.target}</span></span>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n\n  container.innerHTML = html;\n\n  // Add event listeners\n  container.querySelectorAll('[data-start]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const exerciseId = btn.dataset.start;\n      if (onStartClick) onStartClick(exerciseId);\n    });\n  });\n\n  container.querySelectorAll('[data-delete]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const exerciseId = btn.dataset.delete;\n      removeFromFavorites(exerciseId);\n      if (onDeleteClick) onDeleteClick(exerciseId);\n      // Re-render the list\n      renderFavoritesList(container, emptyEl, onStartClick, onDeleteClick);\n    });\n  });\n}\n","/**\n * Modal module for Your Energy application\n */\n\nimport { fetchExerciseById, submitRating } from './api.js';\nimport { isFavorite, toggleFavorite } from './favorites.js';\nimport { generateStarsHTML, validateEmail, capitalize, showNotification } from './utils.js';\n\n// DOM elements\nlet exerciseModal;\nlet ratingModal;\nlet currentExercise = null;\n\n// Event listeners storage for cleanup\nlet escapeHandler = null;\nlet backdropHandler = null;\n\n/**\n * Initialize modals\n */\nexport function initModals() {\n  exerciseModal = document.querySelector('[data-exercise-modal]');\n  ratingModal = document.querySelector('[data-rating-modal]');\n\n  if (!exerciseModal || !ratingModal) return;\n\n  // Setup close buttons\n  exerciseModal.querySelector('[data-modal-close]')?.addEventListener('click', closeExerciseModal);\n  ratingModal.querySelector('[data-modal-close]')?.addEventListener('click', closeRatingModal);\n\n  // Setup Give rating button\n  exerciseModal.querySelector('[data-modal-give-rating]')?.addEventListener('click', () => {\n    // Close exercise modal but keep currentExercise for rating\n    closeModal(exerciseModal);\n    openRatingModal();\n  });\n\n  // Setup favorites button\n  exerciseModal.querySelector('[data-modal-favorites]')?.addEventListener('click', handleFavoritesClick);\n\n  // Setup rating form\n  setupRatingForm();\n}\n\n/**\n * Open exercise modal\n * @param {string} exerciseId\n */\nexport async function openExerciseModal(exerciseId) {\n  try {\n    const exercise = await fetchExerciseById(exerciseId);\n    currentExercise = exercise;\n\n    renderExerciseModal(exercise);\n    openModal(exerciseModal);\n    updateFavoritesButton();\n  } catch (error) {\n    console.error('Error loading exercise:', error);\n    showNotification('Failed to load exercise details', 'error');\n  }\n}\n\n/**\n * Render exercise modal content\n * @param {Object} exercise\n */\nfunction renderExerciseModal(exercise) {\n  // Video or GIF\n  const videoContainer = exerciseModal.querySelector('[data-modal-video]');\n  const gifEl = exerciseModal.querySelector('[data-modal-gif]');\n\n  if (exercise.gifUrl) {\n    gifEl.src = exercise.gifUrl;\n    gifEl.alt = exercise.name;\n    videoContainer.innerHTML = '';\n    videoContainer.appendChild(gifEl);\n  }\n\n  // Title\n  exerciseModal.querySelector('[data-modal-title]').textContent = capitalize(exercise.name);\n\n  // Rating\n  const ratingValue = exercise.rating?.toFixed(1) || '0.0';\n  exerciseModal.querySelector('[data-modal-rating-value]').textContent = ratingValue;\n  exerciseModal.querySelector('[data-modal-stars]').innerHTML = generateStarsHTML(\n    exercise.rating || 0\n  );\n\n  // Meta info\n  exerciseModal.querySelector('[data-modal-target]').textContent = capitalize(exercise.target);\n  exerciseModal.querySelector('[data-modal-bodypart]').textContent = capitalize(exercise.bodyPart);\n  exerciseModal.querySelector('[data-modal-popularity]').textContent = exercise.popularity || '0';\n  exerciseModal.querySelector('[data-modal-calories]').textContent = exercise.burnedCalories;\n\n  // Description\n  exerciseModal.querySelector('[data-modal-description]').textContent = exercise.description || '';\n}\n\n/**\n * Update favorites button state\n */\nfunction updateFavoritesButton() {\n  if (!currentExercise) return;\n\n  const btn = exerciseModal.querySelector('[data-modal-favorites]');\n  const icon = btn.querySelector('use');\n  const isInFavorites = isFavorite(currentExercise._id);\n\n  if (isInFavorites) {\n    btn.innerHTML = `Remove from favorites <svg class=\"btn-favorites-icon\"><use href=\"./img/sprite.svg#icon-heart-filled\"></use></svg>`;\n  } else {\n    btn.innerHTML = `Add to favorites <svg class=\"btn-favorites-icon\"><use href=\"./img/sprite.svg#icon-heart\"></use></svg>`;\n  }\n}\n\n/**\n * Handle favorites button click\n */\nfunction handleFavoritesClick() {\n  if (!currentExercise) return;\n\n  toggleFavorite(currentExercise);\n  updateFavoritesButton();\n}\n\n/**\n * Close exercise modal\n */\nfunction closeExerciseModal() {\n  closeModal(exerciseModal);\n  currentExercise = null;\n}\n\n/**\n * Open rating modal\n */\nfunction openRatingModal() {\n  // Reset form\n  const form = ratingModal.querySelector('[data-rating-form]');\n  form.reset();\n  form.querySelector('[data-rating-value]').value = '0';\n  form.querySelector('[type=\"submit\"]').disabled = true;\n\n  // Reset stars\n  resetRatingStars();\n\n  openModal(ratingModal);\n}\n\n/**\n * Close rating modal\n */\nfunction closeRatingModal() {\n  closeModal(ratingModal);\n}\n\n/**\n * Setup rating form\n */\nfunction setupRatingForm() {\n  const starsContainer = ratingModal.querySelector('[data-rating-stars]');\n  const form = ratingModal.querySelector('[data-rating-form]');\n  const rateInput = form.querySelector('[data-rating-value]');\n  const emailInput = form.querySelector('[name=\"email\"]');\n  const submitBtn = form.querySelector('[type=\"submit\"]');\n  const emailError = ratingModal.querySelector('[data-rating-email-error]');\n\n  // Star rating click\n  starsContainer.querySelectorAll('[data-star]').forEach(star => {\n    star.addEventListener('click', () => {\n      const value = star.dataset.star;\n      rateInput.value = value;\n      updateRatingStars(value);\n      validateForm();\n    });\n  });\n\n  // Email validation\n  emailInput.addEventListener('input', () => {\n    const isValid = validateEmail(emailInput.value);\n    emailInput.classList.toggle('is-invalid', !isValid && emailInput.value.length > 0);\n    emailError.hidden = isValid || emailInput.value.length === 0;\n    validateForm();\n  });\n\n  // Form submit\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const rate = parseInt(rateInput.value, 10);\n    const email = emailInput.value.trim();\n    const review = form.querySelector('[name=\"review\"]').value.trim();\n\n    if (!currentExercise || rate === 0 || !validateEmail(email)) {\n      return;\n    }\n\n    submitBtn.disabled = true;\n\n    try {\n      await submitRating(currentExercise._id, { rate, email, review });\n      showNotification('Thank you for your rating!', 'success');\n      closeRatingModal();\n      // Re-open exercise modal with updated data\n      if (currentExercise) {\n        openExerciseModal(currentExercise._id);\n      }\n    } catch (error) {\n      console.error('Error submitting rating:', error);\n      showNotification(error.message || 'Failed to submit rating', 'error');\n      submitBtn.disabled = false;\n    }\n  });\n\n  function validateForm() {\n    const rate = parseInt(rateInput.value, 10);\n    const email = emailInput.value.trim();\n    const isValid = rate > 0 && validateEmail(email);\n    submitBtn.disabled = !isValid;\n  }\n}\n\n/**\n * Update rating stars display\n * @param {number} value\n */\nfunction updateRatingStars(value) {\n  const starsContainer = ratingModal.querySelector('[data-rating-stars]');\n  starsContainer.querySelectorAll('[data-star]').forEach(star => {\n    const starValue = parseInt(star.dataset.star, 10);\n    const use = star.querySelector('use');\n    if (starValue <= value) {\n      use.setAttribute('href', './img/sprite.svg#icon-star');\n    } else {\n      use.setAttribute('href', './img/sprite.svg#icon-star-empty');\n    }\n  });\n}\n\n/**\n * Reset rating stars\n */\nfunction resetRatingStars() {\n  const starsContainer = ratingModal.querySelector('[data-rating-stars]');\n  starsContainer.querySelectorAll('[data-star] use').forEach(use => {\n    use.setAttribute('href', './img/sprite.svg#icon-star-empty');\n  });\n}\n\n/**\n * Open modal with backdrop\n * @param {HTMLElement} modal\n */\nfunction openModal(modal) {\n  modal.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n\n  // Add escape handler\n  escapeHandler = e => {\n    if (e.key === 'Escape') {\n      closeModal(modal);\n    }\n  };\n  document.addEventListener('keydown', escapeHandler);\n\n  // Add backdrop click handler\n  backdropHandler = e => {\n    if (e.target === modal) {\n      closeModal(modal);\n    }\n  };\n  modal.addEventListener('click', backdropHandler);\n}\n\n/**\n * Close modal\n * @param {HTMLElement} modal\n */\nfunction closeModal(modal) {\n  modal.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n\n  // Remove event listeners\n  if (escapeHandler) {\n    document.removeEventListener('keydown', escapeHandler);\n    escapeHandler = null;\n  }\n\n  if (backdropHandler) {\n    modal.removeEventListener('click', backdropHandler);\n    backdropHandler = null;\n  }\n}\n","/**\n * Pagination module for Your Energy application\n */\n\n/**\n * Render pagination\n * @param {Object} options\n * @param {HTMLElement} options.container - Pagination container element\n * @param {number} options.currentPage - Current page number\n * @param {number} options.totalPages - Total pages count\n * @param {Function} options.onPageChange - Callback when page changes\n */\nexport function renderPagination({ container, currentPage, totalPages, onPageChange }) {\n  if (!container) return;\n\n  // Hide pagination if only one page\n  if (totalPages <= 1) {\n    container.classList.add('is-hidden');\n    container.innerHTML = '';\n    return;\n  }\n\n  container.classList.remove('is-hidden');\n\n  let html = '';\n\n  // First page and prev buttons\n  html += `\n    <button class=\"pagination-btn\" type=\"button\" data-page=\"1\" ${currentPage === 1 ? 'disabled' : ''} aria-label=\"First page\">\n      <svg class=\"pagination-icon\"><use href=\"./img/sprite.svg#icon-chevrons-left\"></use></svg>\n    </button>\n    <button class=\"pagination-btn\" type=\"button\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? 'disabled' : ''} aria-label=\"Previous page\">\n      <svg class=\"pagination-icon\"><use href=\"./img/sprite.svg#icon-chevron-left\"></use></svg>\n    </button>\n  `;\n\n  // Page numbers\n  const pages = getPageNumbers(currentPage, totalPages);\n\n  pages.forEach((page, index) => {\n    if (page === '...') {\n      html += `<span class=\"pagination-dots\">...</span>`;\n    } else {\n      html += `\n        <button class=\"pagination-btn ${page === currentPage ? 'active' : ''}\" type=\"button\" data-page=\"${page}\">\n          ${page}\n        </button>\n      `;\n    }\n  });\n\n  // Next and last page buttons\n  html += `\n    <button class=\"pagination-btn\" type=\"button\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? 'disabled' : ''} aria-label=\"Next page\">\n      <svg class=\"pagination-icon\"><use href=\"./img/sprite.svg#icon-chevron-right\"></use></svg>\n    </button>\n    <button class=\"pagination-btn\" type=\"button\" data-page=\"${totalPages}\" ${currentPage === totalPages ? 'disabled' : ''} aria-label=\"Last page\">\n      <svg class=\"pagination-icon\"><use href=\"./img/sprite.svg#icon-chevrons-right\"></use></svg>\n    </button>\n  `;\n\n  container.innerHTML = html;\n\n  // Add click handlers\n  container.querySelectorAll('[data-page]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = parseInt(btn.dataset.page, 10);\n      if (page !== currentPage && page >= 1 && page <= totalPages) {\n        onPageChange(page);\n      }\n    });\n  });\n}\n\n/**\n * Generate array of page numbers to display\n * @param {number} current - Current page\n * @param {number} total - Total pages\n * @returns {Array<number|string>}\n */\nfunction getPageNumbers(current, total) {\n  const pages = [];\n  const maxVisible = 5;\n\n  if (total <= maxVisible) {\n    // Show all pages\n    for (let i = 1; i <= total; i++) {\n      pages.push(i);\n    }\n  } else {\n    // Always show first page\n    pages.push(1);\n\n    if (current > 3) {\n      pages.push('...');\n    }\n\n    // Show pages around current\n    const start = Math.max(2, current - 1);\n    const end = Math.min(total - 1, current + 1);\n\n    for (let i = start; i <= end; i++) {\n      if (!pages.includes(i)) {\n        pages.push(i);\n      }\n    }\n\n    if (current < total - 2) {\n      pages.push('...');\n    }\n\n    // Always show last page\n    if (!pages.includes(total)) {\n      pages.push(total);\n    }\n  }\n\n  return pages;\n}\n\n/**\n * Clear pagination\n * @param {HTMLElement} container\n */\nexport function clearPagination(container) {\n  if (container) {\n    container.innerHTML = '';\n    container.classList.add('is-hidden');\n  }\n}\n","/**\n * Filters module for Your Energy application\n * Handles both categories (filters) and exercises views\n */\n\nimport { fetchFilters, fetchExercises } from './api.js';\nimport { renderPagination } from './pagination.js';\nimport { getResponsiveLimit, capitalize } from './utils.js';\n\n// State\nlet currentFilter = 'Muscles';\nlet currentCategory = '';\nlet currentPage = 1;\nlet totalPages = 1;\nlet currentKeyword = '';\nlet isExercisesView = false;\n\n// DOM elements\nlet filterButtons;\nlet categoriesList;\nlet categoriesView;\nlet exercisesView;\nlet exercisesList;\nlet exercisesEmpty;\nlet categoriesPagination;\nlet exercisesPagination;\nlet categoryNameEl;\nlet searchForm;\nlet searchInput;\nlet searchClearBtn;\nlet onExerciseStart;\n\n/**\n * Initialize filters\n * @param {Function} exerciseStartCallback - Callback when exercise Start button is clicked\n */\nexport function initFilters(exerciseStartCallback) {\n  onExerciseStart = exerciseStartCallback;\n\n  filterButtons = document.querySelectorAll('[data-filter]');\n  categoriesList = document.querySelector('[data-categories-list]');\n  categoriesView = document.querySelector('[data-categories-view]');\n  exercisesView = document.querySelector('[data-exercises-view]');\n  exercisesList = document.querySelector('[data-exercises-list]');\n  exercisesEmpty = document.querySelector('[data-exercises-empty]');\n  categoriesPagination = document.querySelector('[data-categories-pagination]');\n  exercisesPagination = document.querySelector('[data-exercises-pagination]');\n  categoryNameEl = document.querySelector('[data-filters-category-name]');\n  searchForm = document.querySelector('[data-search-form]');\n  searchInput = searchForm?.querySelector('input[name=\"keyword\"]');\n  searchClearBtn = document.querySelector('[data-search-clear]');\n\n  if (!filterButtons.length || !categoriesList) return;\n\n  // Add click handlers to filter buttons\n  filterButtons.forEach(btn => {\n    btn.addEventListener('click', () => {\n      const filter = btn.dataset.filter;\n\n      // If in exercises view, switch back to categories\n      if (isExercisesView) {\n        showCategoriesView();\n      }\n\n      if (filter !== currentFilter || isExercisesView) {\n        setActiveFilter(btn);\n        currentFilter = filter;\n        currentPage = 1;\n        currentKeyword = '';\n        if (searchInput) searchInput.value = '';\n        if (searchClearBtn) searchClearBtn.classList.remove('is-visible');\n        loadCategories();\n      }\n    });\n  });\n\n  // Setup search form\n  if (searchForm) {\n    searchForm.addEventListener('submit', e => {\n      e.preventDefault();\n      const keyword = searchInput?.value.trim();\n      currentKeyword = keyword;\n      currentPage = 1;\n\n      if (isExercisesView) {\n        loadExercises();\n      } else {\n        loadCategories();\n      }\n    });\n  }\n\n  // Setup clear button\n  if (searchClearBtn && searchInput) {\n    searchInput.addEventListener('input', () => {\n      searchClearBtn.classList.toggle('is-visible', searchInput.value.length > 0);\n    });\n\n    searchClearBtn.addEventListener('click', () => {\n      searchInput.value = '';\n      searchClearBtn.classList.remove('is-visible');\n      currentKeyword = '';\n      currentPage = 1;\n\n      if (isExercisesView) {\n        loadExercises();\n      } else {\n        loadCategories();\n      }\n    });\n  }\n\n  // Load initial categories (Muscles is default)\n  loadCategories();\n\n  // Handle window resize for responsive limit\n  window.addEventListener('resize', handleResize);\n}\n\n/**\n * Set active filter button\n * @param {HTMLElement} activeBtn\n */\nfunction setActiveFilter(activeBtn) {\n  filterButtons.forEach(btn => btn.classList.remove('active'));\n  activeBtn.classList.add('active');\n}\n\n/**\n * Show categories view\n */\nfunction showCategoriesView() {\n  isExercisesView = false;\n  if (categoriesView) categoriesView.hidden = false;\n  if (exercisesView) exercisesView.hidden = true;\n  if (categoryNameEl) categoryNameEl.textContent = '';\n  currentCategory = '';\n  currentKeyword = '';\n  currentPage = 1;\n  if (searchInput) searchInput.value = '';\n  if (searchClearBtn) searchClearBtn.classList.remove('is-visible');\n}\n\n/**\n * Show exercises view\n * @param {string} categoryName\n * @param {string} filterType\n */\nfunction showExercisesView(categoryName, filterType) {\n  isExercisesView = true;\n  currentCategory = categoryName;\n  currentFilter = filterType;\n  currentPage = 1;\n  currentKeyword = '';\n\n  if (categoriesView) categoriesView.hidden = true;\n  if (exercisesView) exercisesView.hidden = false;\n  if (categoryNameEl) categoryNameEl.textContent = `/ ${capitalize(categoryName)}`;\n  if (searchInput) searchInput.value = '';\n  if (searchClearBtn) searchClearBtn.classList.remove('is-visible');\n\n  // Update active filter button\n  filterButtons.forEach(btn => {\n    btn.classList.toggle('active', btn.dataset.filter === filterType);\n  });\n\n  loadExercises();\n}\n\n/**\n * Load categories from API\n */\nasync function loadCategories() {\n  try {\n    const limit = getResponsiveLimit('categories');\n    const data = await fetchFilters({\n      filter: currentFilter,\n      page: currentPage,\n      limit,\n    });\n\n    let results = data.results;\n\n    // Client-side filtering by keyword\n    if (currentKeyword) {\n      const keyword = currentKeyword.toLowerCase();\n      results = results.filter(cat =>\n        cat.name.toLowerCase().includes(keyword)\n      );\n    }\n\n    totalPages = currentKeyword ? 1 : data.totalPages;\n    renderCategories(results);\n    updateCategoriesPagination();\n  } catch (error) {\n    console.error('Error loading categories:', error);\n    categoriesList.innerHTML = '<li>Failed to load categories. Please try again.</li>';\n  }\n}\n\n/**\n * Render categories list\n * @param {Array} categories\n */\nfunction renderCategories(categories) {\n  const html = categories\n    .map(\n      category => `\n      <li>\n        <button class=\"category-card\" type=\"button\" data-category=\"${category.name}\" data-filter-type=\"${category.filter}\">\n          <img\n            class=\"category-card-image\"\n            src=\"${category.imgURL}\"\n            alt=\"${category.name}\"\n            loading=\"lazy\"\n          />\n          <div class=\"category-card-content\">\n            <span class=\"category-card-name\">${capitalize(category.name)}</span>\n            <span class=\"category-card-filter\">${category.filter}</span>\n          </div>\n        </button>\n      </li>\n    `\n    )\n    .join('');\n\n  categoriesList.innerHTML = html;\n\n  // Add click handlers\n  categoriesList.querySelectorAll('[data-category]').forEach(card => {\n    card.addEventListener('click', () => {\n      const categoryName = card.dataset.category;\n      const filterType = card.dataset.filterType;\n      showExercisesView(categoryName, filterType);\n    });\n  });\n}\n\n/**\n * Update categories pagination\n */\nfunction updateCategoriesPagination() {\n  renderPagination({\n    container: categoriesPagination,\n    currentPage,\n    totalPages,\n    onPageChange: page => {\n      currentPage = page;\n      loadCategories();\n    },\n  });\n}\n\n/**\n * Load exercises from API\n */\nasync function loadExercises() {\n  try {\n    const limit = getResponsiveLimit('exercises');\n    const params = {\n      page: currentPage,\n      limit,\n    };\n\n    // Add filter param based on type\n    if (currentFilter === 'Muscles') {\n      params.muscles = currentCategory;\n    } else if (currentFilter === 'Body parts') {\n      params.bodypart = currentCategory;\n    } else if (currentFilter === 'Equipment') {\n      params.equipment = currentCategory;\n    }\n\n    // Add keyword if searching\n    if (currentKeyword) {\n      params.keyword = currentKeyword;\n    }\n\n    const data = await fetchExercises(params);\n\n    totalPages = data.totalPages;\n\n    if (data.results.length === 0) {\n      showEmptyState();\n    } else {\n      hideEmptyState();\n      renderExercises(data.results);\n    }\n\n    updateExercisesPagination();\n  } catch (error) {\n    console.error('Error loading exercises:', error);\n    exercisesList.innerHTML = '<li>Failed to load exercises. Please try again.</li>';\n  }\n}\n\n/**\n * Render exercises list\n * @param {Array} exercises\n */\nfunction renderExercises(exercises) {\n  const html = exercises\n    .map(\n      exercise => `\n      <li class=\"exercise-card\">\n        <div class=\"exercise-card-header\">\n          <span class=\"exercise-card-badge\">workout</span>\n          <div class=\"exercise-card-actions\">\n            <span class=\"exercise-card-rating\">\n              ${exercise.rating?.toFixed(1) || '0.0'}\n              <svg class=\"rating-star\">\n                <use href=\"./img/sprite.svg#icon-star\"></use>\n              </svg>\n            </span>\n            <button class=\"exercise-start-btn\" type=\"button\" data-start=\"${exercise._id}\">\n              Start\n              <svg class=\"exercise-start-icon\">\n                <use href=\"./img/sprite.svg#icon-arrow\"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class=\"exercise-card-body\">\n          <div class=\"exercise-card-icon\">\n            <svg class=\"exercise-card-icon-svg\">\n              <use href=\"./img/sprite.svg#icon-run\"></use>\n            </svg>\n          </div>\n          <h3 class=\"exercise-card-title\">${capitalize(exercise.name)}</h3>\n        </div>\n        <div class=\"exercise-card-meta\">\n          <span class=\"exercise-card-meta-item\">Burned calories: <span>${exercise.burnedCalories} / 3 min</span></span>\n          <span class=\"exercise-card-meta-item\">Body part: <span>${capitalize(exercise.bodyPart)}</span></span>\n          <span class=\"exercise-card-meta-item\">Target: <span>${capitalize(exercise.target)}</span></span>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n\n  exercisesList.innerHTML = html;\n\n  // Add click handlers\n  exercisesList.querySelectorAll('[data-start]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const exerciseId = btn.dataset.start;\n      if (onExerciseStart) onExerciseStart(exerciseId);\n    });\n  });\n}\n\n/**\n * Show empty state\n */\nfunction showEmptyState() {\n  exercisesList.innerHTML = '';\n  if (exercisesEmpty) {\n    exercisesEmpty.hidden = false;\n    const keywordEl = exercisesEmpty.querySelector('[data-search-keyword]');\n    if (keywordEl) {\n      keywordEl.textContent = currentKeyword ? `\"${currentKeyword}\"` : '';\n    }\n  }\n}\n\n/**\n * Hide empty state\n */\nfunction hideEmptyState() {\n  if (exercisesEmpty) {\n    exercisesEmpty.hidden = true;\n  }\n}\n\n/**\n * Update exercises pagination\n */\nfunction updateExercisesPagination() {\n  renderPagination({\n    container: exercisesPagination,\n    currentPage,\n    totalPages,\n    onPageChange: page => {\n      currentPage = page;\n      loadExercises();\n    },\n  });\n}\n\n/**\n * Handle window resize\n */\nlet resizeTimeout;\nfunction handleResize() {\n  clearTimeout(resizeTimeout);\n  resizeTimeout = setTimeout(() => {\n    if (isExercisesView) {\n      loadExercises();\n    } else {\n      loadCategories();\n    }\n  }, 250);\n}\n\n/**\n * Get current filter type\n * @returns {string}\n */\nexport function getCurrentFilter() {\n  return currentFilter;\n}\n","/**\n * Main JavaScript file for Your Energy application\n */\n\nimport { initMobileMenu, initScrollTop } from './js/mobile-menu.js';\nimport { initQuote } from './js/quote.js';\nimport { initSubscription } from './js/subscription.js';\nimport { initModals, openExerciseModal } from './js/modal.js';\nimport { initFilters } from './js/filters.js';\nimport { renderFavoritesList } from './js/favorites.js';\n\n// Determine current page\nconst isHomePage = document.querySelector('[data-filters-section]') !== null;\nconst isFavoritesPage = document.querySelector('[data-favorites-list]') !== null;\n\n/**\n * Initialize application\n */\nfunction init() {\n  // Common initializations for all pages\n  initMobileMenu();\n  initScrollTop();\n  initQuote();\n  initSubscription();\n  initModals();\n\n  // Page-specific initializations\n  if (isHomePage) {\n    initHomePage();\n  }\n\n  if (isFavoritesPage) {\n    initFavoritesPage();\n  }\n}\n\n/**\n * Initialize Home page\n */\nfunction initHomePage() {\n  // Initialize filters with exercise start callback\n  initFilters(handleExerciseStart);\n}\n\n/**\n * Handle exercise start button click\n * @param {string} exerciseId\n */\nfunction handleExerciseStart(exerciseId) {\n  openExerciseModal(exerciseId);\n}\n\n/**\n * Initialize Favorites page\n */\nfunction initFavoritesPage() {\n  const favoritesList = document.querySelector('[data-favorites-list]');\n  const favoritesEmpty = document.querySelector('[data-favorites-empty]');\n\n  if (!favoritesList) return;\n\n  // Render favorites list\n  renderFavoritesList(\n    favoritesList,\n    favoritesEmpty,\n    handleExerciseStart, // onStartClick\n    () => {} // onDeleteClick - list is re-rendered automatically\n  );\n}\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', init);\n"],"names":["initMobileMenu","menu","openBtn","closeBtn","link","e","initHeaderScroll","header","lastScrollY","ticking","currentScrollY","initScrollTop","scrollTopBtn","BASE_URL","fetchQuote","response","fetchFilters","filter","page","limit","params","fetchExercises","bodypart","muscles","equipment","keyword","fetchExerciseById","exerciseId","submitRating","rate","email","review","error","subscribe","EMAIL_REGEX","validateEmail","getFromStorage","key","data","saveToStorage","getTodayDate","capitalize","str","generateStarsHTML","rating","fullStars","emptyStars","html","i","showNotification","message","type","getResponsiveLimit","width","STORAGE_KEY","initQuote","quoteTextEl","quoteAuthorEl","quoteData","getQuoteOfTheDay","renderQuote","today","storedData","newQuote","textEl","authorEl","initSubscription","form","emailInput","errorEl","successEl","submitBtn","isValid","getFavorites","isFavorite","item","addToFavorites","exercise","favorites","removeFromFavorites","filtered","toggleFavorite","renderFavoritesList","container","emptyEl","onStartClick","onDeleteClick","btn","exerciseModal","ratingModal","currentExercise","escapeHandler","backdropHandler","initModals","_a","closeExerciseModal","_b","closeRatingModal","_c","closeModal","openRatingModal","_d","handleFavoritesClick","setupRatingForm","openExerciseModal","renderExerciseModal","openModal","updateFavoritesButton","videoContainer","gifEl","ratingValue","resetRatingStars","starsContainer","rateInput","emailError","star","value","updateRatingStars","validateForm","starValue","use","modal","renderPagination","currentPage","totalPages","onPageChange","getPageNumbers","index","current","total","pages","start","end","currentFilter","currentCategory","currentKeyword","isExercisesView","filterButtons","categoriesList","categoriesView","exercisesView","exercisesList","exercisesEmpty","categoriesPagination","exercisesPagination","categoryNameEl","searchForm","searchInput","searchClearBtn","onExerciseStart","initFilters","exerciseStartCallback","showCategoriesView","setActiveFilter","loadCategories","loadExercises","handleResize","activeBtn","showExercisesView","categoryName","filterType","results","cat","renderCategories","updateCategoriesPagination","categories","category","card","showEmptyState","hideEmptyState","renderExercises","updateExercisesPagination","exercises","keywordEl","resizeTimeout","isHomePage","isFavoritesPage","init","initHomePage","initFavoritesPage","handleExerciseStart","favoritesList","favoritesEmpty"],"mappings":"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"}